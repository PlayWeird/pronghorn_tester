#!/bin/bash
# Commands to run directly on Pronghorn for first-time check

# 1. Basic info
echo "=== BASIC INFORMATION ==="
hostname
whoami
pwd
echo "Home: $HOME"
echo ""

# 2. Check quota
echo "=== STORAGE QUOTA ==="
mmlsquota -j home.gevangelista --block-size 1G pronghorn-0
echo ""

# 3. Check modules
echo "=== AVAILABLE MODULES (first 20) ==="
module avail 2>&1 | head -20
echo ""

# 4. Check SLURM
echo "=== SLURM ACCOUNT INFO ==="
sacctmgr show associations user=gevangelista
echo ""
echo "=== CURRENT JOBS ==="
squeue -u gevangelista
echo ""

# 5. Check Python
echo "=== PYTHON ==="
which python3
python3 --version
echo ""

# 6. Check Singularity
echo "=== SINGULARITY ==="
singularity --version
echo ""

# 7. Create test directory
echo "=== CREATING TEST DIRECTORY ==="
mkdir -p ~/pronghorn_test_$(date +%Y%m%d)
echo "Created: ~/pronghorn_test_$(date +%Y%m%d)"
ls -la ~/pronghorn_test_*